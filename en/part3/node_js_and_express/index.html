<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/app.f588656cc80a065e5f1e.css">code[class*=language-],pre[class*=language-]{color:#fff;background:none;text-shadow:0 -.1em .2em #000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-],pre[class*=language-]{background:#4d4033}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:.3em solid #7a6652;border-radius:.5em;box-shadow:inset 1px 1px .5em #000}:not(pre)>code[class*=language-]{padding:.15em .2em .05em;border-radius:.3em;border:.13em solid #7a6652;box-shadow:inset 1px 1px .3em -.1em #000;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#998066}.namespace,.token.punctuation{opacity:.7}.token.boolean,.token.constant,.token.number,.token.property,.token.symbol,.token.tag{color:#d1949e}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#bde052}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f5b83d}.token.atrule,.token.attr-value,.token.keyword{color:#d1949e}.token.important,.token.regex{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.deleted{color:red}</style><style data-href="/component---src-templates-content-template-js.7b464bfa27ef1bc3ece6.css">@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,500,600);@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400);.course{position:relative;width:100%}.course p{font-family:IBM Plex Sans,monospace}@media (min-width:640px){.course p{margin-left:1rem}}.course p:not(:last-of-type){margin-bottom:1rem}@media (min-width:640px){.course h1{margin-left:3rem}}.course h2,.course h3,.course h4{padding-bottom:2rem}@media (min-width:640px){.course h2,.course h3,.course h4,.course table{margin-left:1rem}}.course ul{font-family:IBM Plex Sans,monospace}@media (min-width:640px){.course ul{margin-left:2.2rem}}.course h2:not(:first-of-type){margin-top:2rem}.course pre{margin:2rem 0;background-color:#33332d;color:#fff}.course em{font-family:Courier;font-style:normal;background-color:hsla(0,0%,88.2%,.6);padding:1px 5px 2px}.course img{border:11px solid transparent}.course .banner,.course .container{position:static}.course .letter{width:4rem;height:4rem;border-width:5px;border-style:solid;border-radius:2.5rem;text-align:center;margin:1rem;line-height:1.3em;-webkit-transform:translate(-1rem);transform:translate(-1rem)}@media (min-width:640px){.course .letter{-webkit-transform:translate(-3rem,4.5rem);transform:translate(-3rem,4.5rem)}}.course .letter,.course h1{font-size:2.3rem;font-weight:700}.course-content a,.tasks a{border:0;border-bottom-width:2px;border-style:solid;padding:2px}.course-content{max-width:100%}.tasks a{border-color:#33332d!important}.tasks a:hover{background-color:#fff!important;color:#000!important}.gatsby-highlight-code-line{background-color:hsla(0,0%,88.2%,.3);display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:1em}code[class*=language-],pre[class*=language-]{text-shadow:none}.arrow-go-up{width:36px;height:36px;position:fixed;bottom:5%;right:5%;z-index:99999;cursor:pointer}@media (max-width:639px){.arrow-go-up{right:10%}}.part-main__banner{background-position:50%;background-size:50%;padding-bottom:10%;background-repeat:no-repeat}@media (max-width:639px){.part-main__banner{background-position:top;background-size:70%;padding-bottom:30%!important}}.arrow__container{position:relative}.arrow__container:not():first-child{background:none;background-color:none}@media (min-width:640px){.arrow__container:not():first-child{border-left:none}.arrow__container:not():first-child:before{content:"";background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NzcuMTc1IDQ3Ny4xNzUiPjxwYXRoIGQ9Ik0zNjAuNzMxIDIyOS4wNzVsLTIyNS4xLTIyNS4xYy01LjMtNS4zLTEzLjgtNS4zLTE5LjEgMHMtNS4zIDEzLjggMCAxOS4xbDIxNS41IDIxNS41LTIxNS41IDIxNS41Yy01LjMgNS4zLTUuMyAxMy44IDAgMTkuMSAyLjYgMi42IDYuMSA0IDkuNSA0IDMuNCAwIDYuOS0xLjMgOS41LTRsMjI1LjEtMjI1LjFjNS4zLTUuMiA1LjMtMTMuOC4xLTE5eiIvPjwvc3ZnPg==) no-repeat;background-size:contain;position:absolute;top:0;left:0;height:100%;width:100%}}.arrows--horizontal{display:flex;position:relative;margin:0;align-items:flex-start}.arrow__wrapper{display:flex;justify-content:flex-start;align-items:center;margin:0}.arrow__wrapper:first-of-type{border-right:none;z-index:20}.arrow__wrapper:nth-of-type(n+2){margin-left:-4rem;z-index:10}.arrow__wrapper:nth-of-type(n+2) .arrow__rectangle{border-left:none;padding-left:4rem}.arrow__wrapper:nth-of-type(3){z-index:5}.arrow__wrapper:hover .arrow__point,.arrow__wrapper:hover .arrow__rectangle,.arrow__wrapper:hover .arrow__rectangle>a{background-color:#33332d!important;color:#fff!important}.arrow__rectangle{padding:1rem;justify-content:center;align-items:center;border:2px solid #33332d;border-right:none;z-index:2;overflow:hidden;font-family:IBM Plex Sans,monospace;position:relative}@media (max-width:991px){.arrow__rectangle{font-size:1rem}}.arrow__rectangle .bold{font-weight:600}.arrow__rectangle--thick-border{border:3px solid #33332d;border-right:none}.arrow__point{padding:1.25rem;border:2px solid #33332d;border-bottom:none;border-left:none;-webkit-transform:translate(-1.3rem) rotate(45deg);transform:translate(-1.3rem) rotate(45deg);z-index:1;overflow:hidden}.arrow__point--thick-border{border:3px solid #33332d;border-bottom:none;border-left:none}.arrow__wrapper--stacked{display:flex;justify-content:flex-start;align-items:center;margin:auto auto auto 0}@media (max-width:639px){.arrow__wrapper--stacked .arrow__rectangle{border:none;background-color:transparent!important;padding:0;font-size:1rem;justify-content:unset}.arrow__wrapper--stacked .arrow__rectangle>p>span{border-bottom:1px solid #33332d;margin:auto}.arrow__wrapper--stacked .arrow__rectangle>p>span:hover{background-color:#fff!important;color:#000}.arrow__wrapper--stacked .arrow__point{display:none}}.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:1rem}@media (min-width:640px){.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:-2px}}.arrow__wrapper--stacked .arrow__rectangle{position:relative}@media (min-width:640px){.arrow__wrapper--stacked .arrow__rectangle{padding:1.25rem}}@media (min-width:992px){.arrow__wrapper--stacked .arrow__rectangle{padding:1rem}}.arrow__wrapper--stacked .arrow__point{padding:1.08rem;margin-left:2px}@media (min-width:640px){.arrow__wrapper--stacked .arrow__point{margin-left:unset;padding:1.25rem}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow__point,.arrow__wrapper--stacked:hover .arrow__rectangle{background-color:#33332d!important}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow--stacked-letter,.arrow__wrapper--stacked:hover .arrow--stacked-title{color:#fff}}.arrow--stacked-title{font-family:IBM Plex Mono,monospace}@media (min-width:640px){.arrow--stacked-title{white-space:nowrap}}.arrow__container--with-link{width:100%!important}@media (max-width:639px){.breadcrumb .arrow__wrapper{display:none}}.breadcrumb .arrow__wrapper:hover .arrow__point,.breadcrumb .arrow__wrapper:hover .arrow__rectangle{background-color:#33332d!important}.breadcrumb .arrow__wrapper:hover .arrow--stacked-letter,.breadcrumb .arrow__wrapper:hover .arrow--stacked-title{color:#fff}.breadcrumb .arrow__rectangle{position:relative}@media (max-width:639px){.breadcrumb .arrow__rectangle{border:none;padding:0;font-size:.7rem;white-space:nowrap;background-color:transparent!important;color:#33332d}}@media (max-width:639px){.breadcrumb .arrow__point{display:none}}.element--flex{display:flex;flex-wrap:wrap}.element--space-around{justify-content:space-around}.element--space-between{justify-content:space-between}.element--column{flex-direction:column}.element--centered{align-items:center;justify-content:center!important}@media (min-width:992px){.element--centered-in-desktop{align-items:center;justify-content:center!important}}@media (min-width:992px){.element--horizontal-half{width:45%}}.element--auto-margin{margin:auto}.element--auto-bottom-margin{margin-bottom:auto}.element--flex-start{align-content:flex-start}.element--no-wrap{flex-wrap:nowrap}.element--relative{position:relative!important}.banner{display:flex;width:100%;align-items:center;position:relative;padding:2rem 0;background-color:#e1e1e1}@media (min-width:992px){.banner{padding:3.444rem 3.444rem 4.444rem}}.edit-link>span{border-bottom-width:3px;border-bottom-style:solid;border-bottom-color:inherit}#footer{margin-top:auto}@media (min-width:992px){#footer{align-items:center}}#footer a:hover{background-color:transparent!important}#footer .footer__navigation{display:none}@media (max-width:1199px){#footer .footer__navigation{width:100%;display:block}#footer .footer__navigation-link-container{display:flex;flex-direction:column}}#footer .footer__navigation-link{font-size:1rem;line-height:18px;white-space:nowrap;font-family:IBM Plex Sans,monospace;margin-left:0!important;margin-right:auto}@media (max-width:639px){#footer .footer__navigation-link{line-height:8px}}#footer .footer__navigation-link:hover{color:#fff!important;background-color:#33332d!important}#footer .footer__navigation-link:nth-of-type(n+2){margin-top:2.142rem}@media (min-width:1200px){#footer .footer__navigation{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end}#footer .footer__navigation-link{margin-top:0!important;margin-bottom:auto}#footer .footer__navigation-link:nth-of-type(n+1){margin-right:2.877rem}#footer .footer__navigation-link:last-of-type{margin-right:0!important}}.image__content{position:absolute;top:0;left:0;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.image--contain .image__content{-o-object-fit:contain;object-fit:contain}.image{overflow:hidden;width:100%;position:relative}@media (min-width:992px){.image{width:40%}}.image .image__container{height:0;position:relative;width:100%;padding-bottom:89.0625%}.image--circle{border-radius:50%}.image--circle .image__content{background-color:#e1e1e1}.image--square-big{width:100%}.image--square-big .image__container{width:100%;padding-bottom:100%}.image--extra-small{width:8%}.image--extra-small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--extra-small{width:calc(33.33333% - 1rem)}}.image--small{width:15%}.image--small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--small{width:calc(33.33333% - 1rem)}}.image--medium{width:50%}.image--medium .image__container{width:100%;padding-bottom:71.25%}.image--large{width:100%}@media (min-width:992px){.image--large{width:60%}}.image--large .image__container{padding-bottom:59.37%;width:100%}.image--full-width{width:100%}.image--full-width .image__container{padding-bottom:59.37%;width:100%}.image--actual-size{width:100%}.image--actual-size .image__container{height:0;position:relative;width:100%;padding-bottom:60%}.navigation{z-index:2;list-style:none;opacity:0;display:none;margin:0;padding:5%;flex-direction:column;justify-content:center;align-items:center;background:#e1e1e1;position:fixed;top:8%;right:5%;transition:opacity .3s ease-in-out;font-weight:200}@media (min-width:1200px){.navigation{display:flex;opacity:1;padding:0;font-weight:400;position:static;background:none;overflow:hidden;flex-direction:row}}@media (max-width:1199px){.navigation__wrapper .language-switcher{margin:20px 0 0}}@media (min-width:1200px){.navigation__wrapper{flex-grow:100}}.navigation__toggle{z-index:3;position:absolute;top:0;right:0;width:50px;height:40px;cursor:pointer;border:none;background:none;outline:none;border-radius:4px}@media (min-width:1200px){.navigation__toggle{display:none}}.navigation__mobile-logo{display:none}.navigation__toggle-icon{top:8px;left:10px}.navigation__toggle-icon,.navigation__toggle-icon:after,.navigation__toggle-icon:before{position:absolute;width:30px;height:3px;transition:all .3s ease;border-radius:4px;background-color:#33332d}.navigation__toggle-icon:after,.navigation__toggle-icon:before{content:"";display:block}.navigation__toggle-icon:before{top:10px}.navigation__toggle-icon:after{top:20px}.is-open--navigation{overflow:hidden;height:100vh}.is-open--navigation .navigation{opacity:1;display:unset}.is-open--navigation .navigation:before{content:"";background-color:#e1e1e1;position:absolute;width:25px;height:25px;top:-3px;right:13px;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.is-open--navigation .navigation__mobile-logo{display:block;width:30px;height:30px;position:absolute;top:47px;left:5%}@media (min-width:1200px){.is-open--navigation .navigation__mobile-logo{display:none}}.is-open--navigation .navigation__toggle-icon{-webkit-transform:translate3d(0,10px,0) rotate(45deg);transform:translate3d(0,10px,0) rotate(45deg)}.is-open--navigation .navigation__toggle-icon,.is-open--navigation .navigation__toggle-icon:after,.is-open--navigation .navigation__toggle-icon:before{background:#33332d}.is-open--navigation .navigation__toggle-icon:before{-webkit-transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);opacity:0}.is-open--navigation .navigation__toggle-icon:after{-webkit-transform:translate3d(0,-19px,0) rotate(-90deg);transform:translate3d(0,-19px,0) rotate(-90deg)}.navigation__item{margin:22px 0;white-space:nowrap}.navigation__item:first-of-type{margin:0 0 22px}.navigation__item:last-of-type{margin:22px 0 0}@media (min-width:1200px){.navigation__item{margin:0 30px;padding:0!important}.navigation__item:first-of-type{margin:0 30px 0 2rem}.navigation__item:last-of-type{margin:0 0 0 30px}}.language-switcher{margin-left:auto;display:flex;width:63px;justify-content:space-between;text-decoration:none}.language-switcher a,.language-switcher span{padding:1px 3px;text-transform:uppercase;border-radius:5px;font-weight:500}.language-switcher a{cursor:pointer;margin:1px}.language-switcher a:hover{background-color:#33332d!important;color:#fff!important}.language-switcher__active-language{border:1px solid #33332d!important}html{font-family:IBM Plex Mono,monospace;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:IBM Plex Mono,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em IBM Plex Mono,monospace;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:IBM Plex Mono,monospace;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{margin:2rem 0 -.5rem;font-size:1.38316rem}h3,h4{padding:0;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{margin:2rem 0 -1rem;font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}body,html{margin:0;padding:0;font-family:IBM Plex Mono,monospace;font-weight:500;color:#33332d;font-size:14px;line-height:1.555rem}@media (min-width:992px){body,html{font-size:18px}}.main-wrapper{min-height:100vh;display:flex;flex-direction:column}p{margin:0;text-align:left;line-height:1.5em}a,p{color:#33332d}a{text-decoration:none}.link a{border-bottom:2px solid #e1e1e1}.link a:hover{background-color:#e1e1e1}.container{position:relative;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:space-between;width:90%;max-width:1200px}@media (max-width:639px){.container{padding:0 20px}}@media (min-width:992px){.container--right{margin-right:5%;width:54%;max-width:719.9856px}}@media (min-width:992px) and (min-width:1200px){.container--right{margin-right:calc((100% - 1200px)/2)}}.hidden{display:none!important}.centered{text-align:center}@media (max-width:639px){.centered--mobile{justify-content:center;align-content:center;align-items:center}}.spacing{margin-top:2rem}@media (max-width:992px) and (min-width:640px){.spacing--tablet{margin-top:5rem!important}}@media (min-width:992px){.spacing{margin-top:5rem}}.spacing--small{margin-top:1rem}@media (min-width:992px){.spacing--small{margin-top:3.444rem}}.spacing--large{margin-top:4rem}@media (min-width:992px){.spacing--large{margin-top:10rem}}.spacing--extra-large{margin-top:4rem}@media (min-width:992px){.spacing--extra-large{margin-top:20rem}}.spacing--after{margin-bottom:2rem}@media (min-width:992px){.spacing--after{margin-bottom:5rem}}@media (max-width:639px){.spacing--after--mobile{margin-bottom:5rem}}@media (min-width:992px){.spacing--after-small{margin-bottom:2.5rem}}.spacing--after-large{margin-bottom:4rem}@media (min-width:992px){.spacing--after-large{margin-bottom:10rem}}@media (max-width:991px){.spacing--mobile{margin-top:2rem}}@media (max-width:1199px){.spacing--mobile--small{margin-top:1.5rem}}@media (max-width:1199px){.spacing--mobile--large{margin-top:3rem}}.col-1{width:100%}@media (min-width:992px){.col-1{width:10%}}.col-2{width:100%}@media (min-width:992px){.col-2{width:20%}}.col-3{width:100%}@media (min-width:992px){.col-3{width:30%}}.col-4{width:100%}@media (min-width:992px){.col-4{width:40%}}.col-5{width:100%}@media (min-width:992px){.col-5{width:50%}}.col-6{width:100%}@media (min-width:992px){.col-6{width:60%}}.col-7{width:100%}@media (min-width:992px){.col-7{width:70%}}.col-8{width:100%}@media (min-width:992px){.col-8{width:80%}}.col-9{width:100%}@media (min-width:992px){.col-9{width:90%}}.col-10{width:100%}@media (min-width:992px){.col-10{width:100%}}@media (min-width:992px){.push-right-1{margin-left:10%}.push-right-2{margin-left:20%}.push-right-3{margin-left:30%}.push-right-4{margin-left:40%}.push-right-5{margin-left:50%}.push-left-1{margin-right:10%}.push-left-2{margin-right:20%}.push-left-3{margin-right:30%}.push-left-4{margin-right:40%}.push-left-5{margin-right:50%}.push-left{margin-right:auto}.push-right{margin-left:auto}}@media (max-width:639px){.col-1--mobile{width:10%!important}.col-2--mobile{width:20%!important}.col-3--mobile{width:30%!important}.col-4--mobile{width:40%!important}.col-5--mobile{width:50%!important}.col-6--mobile{width:60%!important}.col-7--mobile{width:70%!important}.col-8--mobile{width:80%!important}.col-9--mobile{width:90%!important}.col-10--mobile{width:100%!important}.push-right-1--mobile{margin-left:10%!important}.push-right-2--mobile{margin-left:20%!important}.push-right-3--mobile{margin-left:30%!important}.push-right-4--mobile{margin-left:40%!important}.push-right-5--mobile{margin-left:50%!important}.push-left-1--mobile{margin-right:10%!important}.push-left-2--mobile{margin-right:20%!important}.push-left-3--mobile{margin-right:30%!important}.push-left-4--mobile{margin-right:40%!important}.push-left-5--mobile{margin-right:50%!important}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}@media (max-width:1199px){.col-1--tablet{width:10%}.col-2--tablet{width:20%}.col-3--tablet{width:30%}.col-4--tablet{width:40%}.col-5--tablet{width:50%}.col-6--tablet{width:60%}.col-7--tablet{width:70%}.col-8--tablet{width:80%}.col-9--tablet{width:90%}.col-10--tablet{width:100%}.order-0--tablet{order:0}.order-1--tablet{order:1}.order-2--tablet{order:2}.order-3--tablet{order:3}.order-4--tablet{order:4}.order-5--tablet{order:5}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}.centered-vertically{display:flex;flex-direction:column;justify-content:center}.nav-item-hover{text-decoration:none;color:#33332d;font-weight:500;padding:.2em}@media (min-width:640px){.nav-item-hover{font-weight:600}}.nav-item-hover:active,.nav-item-hover:focus,.nav-item-hover:hover{color:#fff;background-color:#33332d!important}.nav-item-hover:active,.nav-item-hover:focus{outline:2px solid #706be4}.flex-fix-aligning:after,.flex-fix-aligning:before{content:"";width:30%;order:2}.index__main-title{font-size:1.571rem}@media (min-width:992px){.index__main-title{font-size:3rem}}.auto-bottom-margin{margin-bottom:auto}@media (min-width:992px){.absolute-top-right--desktop{position:absolute;top:0;right:0}}@media (min-width:640px){.frontpage__hero .image{top:-2em}}@media (min-width:992px){.frontpage__hero{flex-direction:column}.frontpage__hero .image{top:4em}}.heading-font{font-family:IBM Plex Sans,monospace}.about__challenge-button{box-shadow:-3px 5px #33332d;padding:.6rem 1rem;border:3px solid #33332d;font-weight:600}.about__challenge-button:hover{background-color:#33332d;color:#fff;cursor:pointer}.about__challenge-button--turquoise{background-color:#82f7eb}@media (max-width:1199px){.space-between--mobile{justify-content:space-between}}.challenge__banner{display:flex;justify-content:center;margin-bottom:-70px}@media (min-width:640px){.challenge__banner{-webkit-transform:translateY(-10px);transform:translateY(-10px)}}@media (min-width:1200px){.challenge__banner{margin-bottom:-370px}}.challenge__banner .image{margin:0;width:70%;-webkit-transform:translateY(-25%);transform:translateY(-25%)}@media (min-width:640px){.challenge__banner .image{-webkit-transform:translateY(-10%);transform:translateY(-10%)}}@media (min-width:1200px){.challenge__banner .image{-webkit-transform:translateY(-30%);transform:translateY(-30%)}}.release-message{position:fixed;bottom:0;z-index:1000;left:0;right:0;padding:.5rem 3rem;margin:1rem 1rem .5rem;border:2px solid #33332d;border-radius:5px;background:#fff}.release-message a{font-weight:700;border-bottom:1px solid #33332d;margin-left:.5rem}.release-message a:hover{color:#fff;background-color:#33332d}.release-message__button{position:absolute;top:.1rem;right:1rem;padding:0;border:none;font:inherit;color:inherit;background:none;cursor:pointer}.release-message__button span:hover{color:#fff;background-color:#000}.header{position:-webkit-sticky;position:sticky;z-index:9999999999;top:0;transition:top .2s ease-in-out;box-sizing:border-box;width:100%;padding-top:1.444rem;padding-bottom:1rem;transition:all .2s ease-in-out}.header__logo{margin:0 10px}.triple-border{position:relative;padding:2px;border-radius:5px 0;transition:color .1s ease-in-out,background-color .1s ease-in-out}.triple-border:after,.triple-border:before{z-index:2;content:"";border:2px solid #33332d;border-radius:5px;position:absolute;width:calc(100% + 5px);height:calc(100% + 5px)}.triple-border:before{left:0;top:0}.triple-border:after{bottom:0;right:0}.triple-border__container{position:relative;overflow:hidden;border-radius:3px 0}.triple-border--large-margin{margin:13px;padding:3px}.triple-border--large-margin:after,.triple-border--large-margin:before{content:"";border-width:3px;border-radius:13px;width:calc(100% + 13px);height:calc(100% + 13px)}.triple-border--large-margin .triple-border__container{border-radius:10px 0}.triple-border__logo{padding:.2rem;font-size:1.111rem;font-weight:600}.triple-border__return-tasks{font-size:.9rem;padding:1rem .2rem}.prev-next__container .separator{display:none}@media (max-width:639px){.prev-next__container .separator{display:block;background-color:#33332d;width:2px!important}}.prev-next__container .prev b,.prev-next__container .prev p{text-align:right}@media (max-width:639px){.prev-next__container .prev p:before{content:"<";margin-right:1rem}}@media (max-width:639px){.prev-next__container .next p:after{content:">";margin-left:1rem}}.body-text:not(:last-of-type){margin-bottom:2.5rem}.body-text__title{color:#33332d;font-size:1.44rem;line-height:1.25em;font-weight:700;margin:0;position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.body-text__content:not(:last-of-type){padding-bottom:2em}.bold{font-weight:700}.body-text--no-padding{padding:0!important}@media (min-width:640px){.companies__main-title .body-text__title{font-size:3rem}}.challenge-title{font-size:1.44rem}.scroll-navigation{display:none;padding-right:1rem;z-index:199}@media (min-width:992px){.scroll-navigation{display:block;font-size:16px;position:absolute;width:30%;left:0;top:198px}}.scroll-navigation li{list-style-type:none}.scroll-navigation li:hover{cursor:pointer}.scroll-navigation li:hover a{background-color:#33332d;color:#fff!important}.scroll-navigation li:before{content:"-"}.left-navigation-link{padding-left:1.2rem;text-indent:-1.2rem;display:block}.left-navigation-link:hover{background-color:#33332d!important;color:#fff!important}.level-h1{font-weight:700;padding-left:2.8rem;text-indent:-2.8rem}.level-h2{padding-left:1.6rem;text-indent:-1.6rem}.accordion__container{margin-bottom:1rem}.accordion__title{padding-left:2.149rem!important;padding-right:2.149rem!important;font-size:1.111rem!important;font-weight:600}.accordion{background-color:#fff;border:3px solid #33332d;border-radius:5px;color:#444;cursor:pointer;padding:1rem;width:100%;text-align:left;outline:none;font-size:15px;transition:max-width .4s}.accordion:hover,.active{background-color:#e1e1e1}.accordion:after{content:"+";font-size:1.5rem;float:right;margin-left:5px}.active{border-color:#fff}.active:after{content:"-";font-size:1.5rem}.panel{background-color:#fff;transition:height .3s;transition-timing-function:ease-in-out;overflow:hidden}.accordion--side-navigation{width:100%;margin-left:unset}.accordion--side-navigation .accordion{border:none;padding:0!important;background-color:transparent!important;color:#33332d!important;border-radius:0}.accordion--side-navigation .accordion__title{font-size:16px!important;font-weight:unset;background-color:transparent}.accordion--side-navigation .accordion__title:hover{background-color:#33332d!important;color:#fff!important}.accordion--side-navigation .panel{padding:1rem 0 0!important;background-color:transparent}.accordion--side-navigation .panel ul{margin-left:1rem}.accordion--side-navigation .accordion:hover,.accordion--side-navigation .active{background-color:#33332d;color:#fff}.accordion--side-navigation .accordion:after,.accordion--side-navigation .active:after{content:""}.sub-header{color:#33332d;font-family:IBM Plex Mono,monospace;padding-bottom:1.357rem}@media (min-width:992px){.sub-header{padding-bottom:2.333rem}}</style><meta name="generator" content="Gatsby 2.0.53"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">Fullstack part3 | </title><meta data-react-helmet="true" name="description" content="Open online course on Javascript based modern web development by University of Helsinki and Houston Inc.."/><meta data-react-helmet="true" property="og:title" content="Fullstack part3 | "/><meta data-react-helmet="true" property="og:description" content="Open online course on Javascript based modern web development by University of Helsinki and Houston Inc.."/><meta data-react-helmet="true" name="og:image" content="/static/EYE_green_wide-0a72f74a959f54d0f3e4bb8c67f6f158.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Houston Inc. Consulting oy"/><meta data-react-helmet="true" name="twitter:title" content="Fullstack part3 | "/><meta data-react-helmet="true" name="twitter:description" content="Open online course on Javascript based modern web development by University of Helsinki and Houston Inc.."/><meta data-react-helmet="true" name="twitter:image" content="/static/EYE_green_wide-0a72f74a959f54d0f3e4bb8c67f6f158.jpg"/><meta data-react-helmet="true" name="google-site-verification" content="ds9pQKiK3kjhRSHHbf5ccoG-oJggn7Lq4A8uHxM3Mkw"/><meta data-react-helmet="true" name="keywords" content="fullstack, full stack open 2019, course, helsingin yliopisto, tietojenkäsittelytieteen osasto, mooc, mooc.fi, full stack, full stack open, web-sovelluskehitys, web, houston, houston inc, websovelluskehitys, web-sovellus, React, Redux, Node.js, Node, MongoDB, GraphQL, REST, REST api, single page -sovellus, ohjelmointi, university of helsinki, department of computer science, web development, software development, web, web application, single page app, programming, , "/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#e1e1e1;"/><link rel="canonical" href="https://fullstackopen.com/en/part3/node_js_and_express" data-baseprotocol="https:" data-basehost="fullstackopen.com"/><link as="script" rel="preload" href="/app-f28095bb55c588d6d78b.js"/><link as="script" rel="preload" href="/component---src-templates-content-template-js-703c28373805799b1d27.js"/><link as="script" rel="preload" href="/0-3f675934e399a3885569.js"/><link as="script" rel="preload" href="/22-f0e9ecc8228f455a4507.js"/><link as="script" rel="preload" href="/3-69fb52d5a763c46eb74c.js"/><link as="script" rel="preload" href="/1-c525673888c6aa1644a4.js"/><link as="script" rel="preload" href="/webpack-runtime-4782032e48ec01186bc6.js"/><link rel="preload" href="/static/d/312/path---en-part-3-node-js-and-express-6-c-9-ea0-ElOOxq7dqns9fY0URv5vStfrWBQ.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="main-wrapper"><div class="header " style="background-color:white"><div class="container" style="align-items:center;justify-content:flex-start"><a class="header__logo" href="/"><div class="triple-border nav-item-hover " style="padding:0.2em"><div class="triple-border__container triple-border__logo" style="background-color:transparent;z-index:10">{() =&gt; fs}</div></div></a><div class="navigation__wrapper "><button aria-label="Navigation menu" aria-expanded="false" class="navigation__toggle"><div class="navigation__toggle-icon"></div></button><nav><ul class="navigation"><li class="navigation__item "><a class="nav-item-hover" href="/about">Kurssista</a></li><li class="navigation__item "><a class="nav-item-hover" href="/#course-contents">Kurssin sisältö</a></li><li class="navigation__item "><a class="nav-item-hover" href="/faq">FAQ</a></li><li class="navigation__item "><a class="nav-item-hover" href="/companies">Kurssilla mukana</a></li><li class="navigation__item "><a class="nav-item-hover" href="/challenge">Haaste</a></li><div class="language-switcher"><span class="language-switcher__active-language">fi</span><a target="_self" class="language-switcher__language" href="/en">en</a></div></ul></nav></div></div></div><div class="release-message"><div><p>This course is now available in English.<a href="/en">Click here</a> <!-- -->to change the language.</p></div><button class="release-message__button"><span>x</span></button></div><div class="course-container spacing--after"><div class="banner part-main__banner spacing--mobile--small" style="background-image:url(/static/part-3-8ac7bc0fb2b7018a7853b00c454b2103.svg);background-color:#EEAC5D"><div class="container spacing--after"><div class="col-10 spacing--after"><div class="arrow__container arrows--horizontal breadcrumb"><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#EEAC5D;color:#33332d"><a href="/en/#course-contents">Fullstack</a></div><div class="arrow__point " style="background-color:#EEAC5D;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#EEAC5D;color:#33332d"><a href="/en/part3">part 3</a></div><div class="arrow__point " style="background-color:#EEAC5D;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#33332d;color:white">Node.js and Express</div><div class="arrow__point " style="background-color:#33332d;color:white"></div></div></div></div></div></div><div class="course "><div class="container element--flex element--relative"><div class="scroll-navigation col-2 spacing element--flex element--column" tag="ul"><div class="accordion__container col-8 push-right-1 accordion--side-navigation"><button class="accordion accordion__title  " style="background-color:#EEAC5D;border-color:#EEAC5D">a Node.js and Express</button><div class="panel" style="padding:;max-height:0;transition:max-height 0.2s ease-out"><ul></ul></div></div><a class="left-navigation-link" style="border-color:#EEAC5D" href="/en/part3/deploying_app_to_internet">b Deploying app to internet</a><a class="left-navigation-link" style="border-color:#EEAC5D" href="/en/part3/saving_data_to_mongo_db">c Saving data to MongoDB</a><a class="left-navigation-link" style="border-color:#EEAC5D" href="/en/part3/validation_and_es_lint">d Validation and ESLint</a></div><div class="course-content col-6 push-right-3 element--auto-bottom-margin"><p class="col-1 letter" style="border-color:#EEAC5D">a</p><h1 class="sub-header ">Node.js and Express</h1></div></div><div class="container"><div class="course-content col-6 push-right-3">
<p>In this part our focus shifts towards the backend: that is, towards implementing functionality on the server side of the stack.</p>
<p>We will be building our backend on top of <a href="https://nodejs.org/en/">NodeJS</a>, which is a JavaScript runtime based on Google&#x27;s <a href="https://developers.google.com/v8/">Chrome V8</a> JavaScript engine.</p>
<p>This course material was written with the version <i>v8.10.0</i> of Node.js. Please make sure that your version of Node is at least as new the version used in the material (you can check the version by running <em>node -v</em> in the command line).</p>
<p>As mentioned in <a href="/en/part1/javascript">part 1</a>, browsers don&#x27;t yet support the newest features of JavaScript, and that is why the code running in the browser must be <i>transpiled</i> with e.g. <a href="https://babeljs.io/">babel</a>. The situation with JavaScript running in the backend is different. The newest version of Node supports a large majority of the latest features of JavaScript, so we can use the latest features without having to transpile our code.</p>
<p>Our goal is to implement a backend that will work with the notes application from <a href="/en/part2/">part 2</a>. However, let&#x27;s start with the basics by implementing a classic &quot;hello world&quot; application.</p>
<p><strong>Notice</strong> that the applications and exercises in this part are not all React applications, and we will not use the <i>create-react-app</i> utility for initializing the project for this application.</p>
<p>We had already mentioned <a href="/en/part2/getting_data_from_server#npm">npm</a> back in part 2, which is tool used for managing JavaScript projects. In fact, npm originates from the Node ecosystem.</p>
<p>Let&#x27;s navigate to an appropriate directory, and create a new template for our application with the <em>npm init</em> command. We will answer the questions presented by the utility, and the result will be an automatically generated <i>package.json</i> file at the root of the project, that contains information about the project.</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;backend&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Matti Luukkainen&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The file defines e.g. the that the entry point of the application is the <i>index.js</i> file.</p>
<p>Let&#x27;s make a small change to the <i>scripts</i> object:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token punctuation">{</span>
  // <span class="token punctuation">..</span>.
  <span class="token string">&quot;scripts&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">    <span class="token string">&quot;start&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;node index.js&quot;</span>,</span>    <span class="token string">&quot;test&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span>,
  // <span class="token punctuation">..</span>.
<span class="token punctuation">}</span></code></pre></div>
<p>Next, let&#x27;s create the first version of our application by adding an <i>index.js</i> file to the root of the project with the following code:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;hello world&#x27;</span><span class="token punctuation">)</span></code></pre></div>
<p>We can run the program directly with Node from the command line:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash">node index.js</code></pre></div>
<p>Or we can run it as an <a href="https://docs.npmjs.com/misc/scripts">npm script</a>:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token function">npm</span> start</code></pre></div>
<p>The <i>start</i> npm script works because we defined it in the <i>package.json</i> file:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token punctuation">{</span>
  // <span class="token punctuation">..</span>.
  <span class="token string">&quot;scripts&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;start&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;node index.js&quot;</span>,
    <span class="token string">&quot;test&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span>,
  // <span class="token punctuation">..</span>.
<span class="token punctuation">}</span></code></pre></div>
<p>Even though the execution of the project works when it is started by calling <em>node index.js</em> from the command line, it&#x27;s customary for npm projects to execute such tasks as npm scripts.</p>
<p>By default the <i>package.json</i> file also defines another commonly used npm script called <i>npm test</i>. Since our project does not yet have a testing library, the <em>npm test</em> command simply executes the following command:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token keyword">echo</span> <span class="token string">&quot;Error: no test specified&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">exit</span> 1</code></pre></div>
<h3>Simple web server</h3>
<p>Let&#x27;s change the application into a web server:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;http&#x27;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">&#x27;Content-Type&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;text/plain&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#x27;Hello World&#x27;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3001</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span></code></pre></div>
<p>Once the application is running, the following message is printed in the console:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash">Server running on port 3001</code></pre></div>
<p>We can open our humble application in the browser by visiting the address <a href="http://localhost:3001">http://localhost:3001</a>:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/8836d8c6a93e804f6cbc73ff4d89913b/14be6/1.png"/></picture>
<p>In fact, the server works the same way regardless of the latter part of the URL. Also the address <a href="http://localhost:3001/foo/bar">http://localhost:3001/foo/bar</a> will display the same content.</p>
<p><strong>NB</strong> if the port 3001 is already in use by some other application, then starting the server will result in the following error message:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash">➜  hello <span class="token function">npm</span> start

<span class="token operator">&gt;</span> hello@1.0.0 start /Users/mluukkai/opetus/_2019fullstack-code/part3/hello
<span class="token operator">&gt;</span> node index.js

Server running on port 3001
events.js:167
      throw er<span class="token punctuation">;</span> // Unhandled <span class="token string">&#x27;error&#x27;</span> event
      ^

Error: listen EADDRINUSE :::3001
    at Server.setupListenHandle <span class="token punctuation">[</span>as _listen2<span class="token punctuation">]</span> <span class="token punctuation">(</span>net.js:1330:14<span class="token punctuation">)</span>
    at listenInCluster <span class="token punctuation">(</span>net.js:1378:12<span class="token punctuation">)</span></code></pre></div>
<p>You have two options. Either shutdown the application using the port 3001 (the json-server in the last part of the material was using the port 3001), or use a different port for this application.</p>
<p>Let&#x27;s take a closer look at first row of the code:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;http&#x27;</span><span class="token punctuation">)</span></code></pre></div>
<p>In the first row, the application imports Node&#x27;s built-in <a href="https://nodejs.org/docs/latest-v8.x/api/http.html">web server</a> module. This is practically what we have already been doing in our browser-side code, but with a slightly different syntax:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">&#x27;http&#x27;</span></code></pre></div>
<p>These days, code that runs in the browser uses ES6 modules. Modules are defined with an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export">export</a> and taken into use with an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">import</a>.</p>
<p>However, Node.js uses so-called <a href="https://en.wikipedia.org/wiki/CommonJS">CommonJS</a> modules. The reason for this is that the Node ecosystem had a need for modules long before JavaScript supported them in the the language specification. At the time of writing this material, Node does not support ES6 modules, but support for them <a href="https://nodejs.org/api/esm.html">is coming</a> somewhere down the road.</p>
<p>CommonJS modules function almost exactly like ES6 modules, at least as far as our needs in this course are concerned.</p>
<p>The next chunk in our code looks like this:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> app <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">&#x27;Content-Type&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;text/plain&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#x27;Hello World&#x27;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>The code uses the <em>createServer</em> method of the <a href="https://nodejs.org/docs/latest-v8.x/api/http.html">http</a> module to create a new web server. An <i>event handler</i> is registered to the server, that is called <i>every time</i>  an HTTP request is made to the server&#x27;s address http:/localhost:3001.</p>
<p>The request is responded to with the status code 200, with the <i>Content-Type</i> header set to <i>text/plain</i>, and the content of the site to be returned set to <i>Hello World</i>.</p>
<p>The last rows bind the http server assigned to the <em>app</em> variable, to listen to HTTP requests sent to the port 3001:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">3001</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span></code></pre></div>
<p>The primary purpose of the backend server in this course is to offer raw data in the JSON format to the frontend. For this reason, let&#x27;s immediately change our server to return a hardcoded list of notes in the JSON format:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;http&#x27;</span><span class="token punctuation">)</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">let</span> notes <span class="token operator">=</span> <span class="token punctuation">[</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    content<span class="token punctuation">:</span> <span class="token string">&quot;HTML is easy&quot;</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    date<span class="token punctuation">:</span> <span class="token string">&quot;2019-05-30T17:30:31.098Z&quot;</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    important<span class="token punctuation">:</span> <span class="token boolean">true</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    content<span class="token punctuation">:</span> <span class="token string">&quot;Browser can execute only Javascript&quot;</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    date<span class="token punctuation">:</span> <span class="token string">&quot;2019-05-30T18:39:34.091Z&quot;</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    important<span class="token punctuation">:</span> <span class="token boolean">false</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    content<span class="token punctuation">:</span> <span class="token string">&quot;GET and POST are the most important methods of HTTP protocol&quot;</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    date<span class="token punctuation">:</span> <span class="token string">&quot;2019-05-30T19:20:14.298Z&quot;</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">    important<span class="token punctuation">:</span> <span class="token boolean">true</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line"><span class="token punctuation">]</span></span><span class="gatsby-highlight-code-line"></span><span class="gatsby-highlight-code-line"><span class="token keyword">const</span> app <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">  response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">&#x27;Content-Type&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;application/json&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">  response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>notes<span class="token punctuation">)</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">3001</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span></code></pre></div>
<p>Let&#x27;s restart the server (you can shut the server down by pressing <em>Ctrl+C</em> in the console) and let&#x27;s refresh the browser.</p>
<p>The <i>application/json</i> value in the <i>Content-Type</i> header informs the receiver that the data is in the JSON format. The <em>notes</em> array gets transformed into JSON with the <em>JSON.stringify(notes)</em> method.</p>
<p>When we open the browser, the displayed format is exactly the same as in <a href="/en/part2/getting_data_from_server/">part 2</a> where we used <a href="https://github.com/typicode/json-server">json-server</a> to serve the list of notes:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/33c3c629d8c3719de79f177cd03d7a71/14be6/2e.png"/></picture>
<p>We&#x27;re nearly ready to start using our new backend with the notes application frontend from part 2. Nearly, but not quite. When we fire up the frontend, we see the following error message in the console:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/35a4438293bb22dd200358359d58157a/14be6/3.png"/></picture>
<p>We will look into this error soon, but first we will improve our code in other ways.</p>
<h3>Express</h3>
<p>Implementing our server code directly with Node&#x27;s built-in <a href="https://nodejs.org/docs/latest-v8.x/api/http.html">http</a> web server is possible. However, it is cumbersome, especially once the application grows in size.</p>
<p>Many libraries have been developed to ease server side development with Node, by offering a more pleasing interface to work with than the built-in http module. By far the most popular library intended for this purpose is <a href="http://expressjs.com">express</a>.</p>
<p>Let&#x27;s take express into use by defining it as a project dependency with the command:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> express --save</code></pre></div>
<p>The dependency is also added to our <i>package.json</i> file:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  // ...
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The source code for the dependency is installed to the <i>node_modules</i> directory located in the root of the project. In addition to express, you can find a great amount of other dependencies in the directory:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/da4cca859c66e0bf7d064455a105ad49/14be6/4.png"/></picture>
<p>These are in fact the dependencies of the express library, and the dependencies of all of its dependencies, and so forth. These are called the <a href="https://lexi-lambda.github.io/blog/2016/08/24/understanding-the-npm-dependency-model/">transitive dependencies</a> of our project.</p>
<p>The version 4.17.1. of express was installed in our project. What does the caret in front of the version number in <i>package.json</i> mean?</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.1&quot;</span></code></pre></div>
<p>The versioning model used in npm is called <a href="https://docs.npmjs.com/getting-started/semantic-versioning">semantic versioning</a>.</p>
<p>The caret in the front of <i>^4.17.1</i> means, that if and when the dependencies of a project are updated, the version of express that is installed will be at least <i>4.17.1</i>. However, the installed version of express can also be one that has a larger <i>patch</i> number (the last number), or a larger <i>minor</i> number (the middle number). The major version of the library indicated by the first <i>major</i> number must be the same.</p>
<p>We can update the dependencies of the project with the command:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token function">npm</span> update</code></pre></div>
<p>Likewise, if we start working on the project on another computer, we can install all up-to-date dependencies of the project defined in <i>package.json</i> with the command:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span></code></pre></div>
<p>If the <i>major</i> number of a dependency does not change, then the newer versions should be <a href="https://en.wikipedia.org/wiki/Backward_compatibility">backwards compatible</a>. This means that if our application happened to use version 4.99.175 of express in the future, then all the code implemented in this part would still have to work without making changes to the code. In contrast, the future 5.0.0. version of express <a href="https://expressjs.com/en/guide/migrating-5.html">may contain</a> changes, that would cause our application to no longer work.</p>
<h3>Web andexpress</h3>
<p>Let&#x27;s get back to our application and make the following changes:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;express&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> notes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token operator">...</span>
<span class="token punctuation">]</span>

app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;&lt;h1&gt;Hello World!&lt;/h1&gt;&#x27;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>notes<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">3001</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Server running on port </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>In order to get the new version of our application into use, we have to restart the application.</p>
<p>The application did not change a whole lot. Right at the beginning of our code we&#x27;re importing <em>express</em>, which this time is a <i>function</i> that is used to create an express application stored in the <em>app</em> variable:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;express&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>Next, we define two <i>routes</i> to the application. The first one defines an event handler, that is used to handle HTTP GET requests made to the application&#x27;s <i>/</i> root:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#x27;&lt;h1&gt;Hello World!&lt;/h1&gt;&#x27;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>The event handler function accepts two parameters. The first <a href="http://expressjs.com/en/4x/api.html#req">request</a> parameter contains all of the information of the HTTP request, and the second <a href="http://expressjs.com/en/4x/api.html#res">response</a> parameter is used to define how the request is responded to.</p>
<p>In our code, the request is answered by using the <a href="http://expressjs.com/en/4x/api.html#res.send">send</a> method of the <em>response</em> object. Calling the method makes the server respond to the HTTP request by sending a response containing the string <code>&lt;h1&gt;Hello World!&lt;/h1&gt;</code>, that was passed to the <em>send</em> method. Since the parameter is a string, express automatically sets the value of the <i>Content-Type</i> header to be <i>text/html</i>. The status code of the response defaults to 200.</p>
<p>We can verify this from the <i>Network</i> tab in developer tools:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/db016b053153eda01c97cbc69270f934/14be6/5.png"/></picture>
<p>The second route defines an event handler, that handles HTTP GET requests made to the <i>notes</i> path of the application:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>notes<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>The request is responded to with the <a href="http://expressjs.com/en/4x/api.html#res.json">json</a> method of the <em>response</em> object. Calling the method will send the <strong>notes</strong> array that was passed to it as a JSON formatted string. Express automatically sets the <i>Content-Type</i> header with the appropriate value of <i>application/json</i>.</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/6fe9b423b3681e8725d65889c0d1d468/14be6/6e.png"/></picture>
<p>Next, let&#x27;s take a quick look at the data sent in the JSON format.</p>
<p>In the earlier version where we were only using Node, we had to transform the data into the JSON format with the <em>JSON.stringify</em> method:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>notes<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>With express, this is no longer required, because this transformation happens automatically.</p>
<p>It&#x27;s worth noting, that <a href="https://en.wikipedia.org/wiki/JSON">JSON</a> is a string, and not a JavaScript object like the value assigned to <em>notes</em>.</p>
<p>The experiment shown below illustrates this point:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/ab5b5f7c5d8e4b01881bbd927f04ed43/14be6/5.png"/></picture>
<p>The experiment above was done in the interactive <a href="https://nodejs.org/docs/latest-v8.x/api/repl.html">node-repl</a>. You can start the interactive node-repl by typing in <em>node</em> in the command line. The repl is particularly useful for testing how commands work while you&#x27;re writing application code. I highly recommend this!</p>
<h3>nodemon</h3>
<p>If we make changes to the application&#x27;s code we have to restart the application in order to see the changes. We restart the application by first shutting it down by typing <em>Ctrl+C</em> and then restarting the application. Compared to the convenient workflow in React where the browser automatically reloaded after changes were made, this feels slightly cumbersome.</p>
<p>The solution to this problem is <a href="https://github.com/remy/nodemon">nodemon</a>: </p>
<blockquote>
<p><i>nodemon will watch the files in the directory in which nodemon was started, and if any files change, nodemon will automatically restart your node application.</i></p>
</blockquote>
<p>Let&#x27;s install nodemon by defining it as a <i>development dependency</i> with the command:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev nodemon</code></pre></div>
<p>The contents of <i>package.json</i> have also changed:</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  //...
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.17.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;nodemon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.19.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>If you accidentally used the wrong command and the nodemon dependency was added under &quot;dependencies&quot; instead of &quot;devDependencies&quot;, then manually change the contents of <i>package.json</i> to match what is shown above.</p>
<p>By development dependencies, we are referring to tools that are needed only during the development of the application, e.g. for testing or automatically restarting the application, like <i>nodemon</i>.</p>
<p>These development dependencies are not needed when the application is run in production mode on the production server (e.g. Heroku).</p>
<p>We can start our application with <i>nodemon</i> like this:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash">node_modules/.bin/nodemon index.js</code></pre></div>
<p>Changes to the application code now causes the server to restart automatically. It&#x27;s worth noting, that even though the backend server restarts automatically, the browser still has to be manually refreshed. This is because unlike when working in React, we could not even have the <a href="https://gaearon.github.io/react-hot-loader/getstarted/">hot reload</a> functionality needed to automatically reload the browser.</p>
<p>The command is long and quite unpleasant, so let&#x27;s define a dedicated <i>npm script</i> for it in the <i>package.json</i> file:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token punctuation">{</span>
  // <span class="token punctuation">..</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token keyword">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;start&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;node index.js&quot;</span>,
    <span class="token string">&quot;watch&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;nodemon index.js&quot;</span>,
    <span class="token string">&quot;test&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span>,
  // <span class="token punctuation">..</span>
<span class="token punctuation">}</span></code></pre></div>
<p>In the script there is no need to specify the <i>node_modules/.bin/nodemon</i> path to nodemon, because <em>npm</em> automatically knows to search for the file from that directory. </p>
<p>We can now start the server in the development mode with the command:</p>
<div class="gatsby-highlight" data-language="bash"><pre><code class="language-bash"><span class="token function">npm</span> run <span class="token function">watch</span></code></pre></div>
<p>Unlike with the <i>start</i> and <i>test</i> scripts, we also have to add <i>run</i> to the command.</p>
<h3>REST</h3>
<p>Let&#x27;s expand our application so that it provides the RESTful HTTP API as <a href="https://github.com/typicode/json-server#routes">json-server</a>.</p>
<p>Representation State Transfer, aka. REST was introduced in 2000 in Roy Fielding&#x27;s <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm">dissertation</a>. REST is an architectural style meant for building scalable web applications.</p>
<p>We are not going to dig into Fielding&#x27;s definition of REST or spend time pondering about what is and isn&#x27;t RESTful. Instead, we take a more <a href="https://en.wikipedia.org/wiki/Representational_state_transfer#Applied_to_Web_services">narrow view</a> by only concerning ourselves with how RESTful API&#x27;s are typically understood in web applications. The original definition of REST is in fact not even limited to web applications.</p>
<p>We mentioned in the <a href="/en/part2/altering_data_in_server#rest">previous part</a> that singular things, like notes in the case of our application, are called <i>resources</i> in RESTful thinking. Every resource has an associated URL which is the resource&#x27;s unique address.</p>
<p>One convention is to create the unique address for resources by combining the name of the resource type with the resource&#x27;s unique identifier.</p>
<p>Let&#x27;s assume that the root URL of our service is <i>www.example.com/api</i>.</p>
<p>If we define the resource type of notes to be <i>note</i>, then the address of a note resource with the identifier 10, has the unique address <i>www.example.com/api/notes/10</i>.</p>
<p>The URL for the entire collection of all note resources is <i>www.example.com/api/notes</i>.</p>
<p>We can execute different operations on resources. The operation to be executed is defined by the HTTP <i>verb</i>:</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>verb</th>
<th>functionality</th>
</tr>
</thead>
<tbody>
<tr>
<td>notes/10   </td>
<td>GET</td>
<td>fetches a single resource</td>
</tr>
<tr>
<td>notes</td>
<td>GET</td>
<td>fetches all resources in the collection</td>
</tr>
<tr>
<td>notes</td>
<td>POST</td>
<td>creates a new resource based on the request data</td>
</tr>
<tr>
<td>notes/10</td>
<td>DELETE   </td>
<td>removes the identified resource</td>
</tr>
<tr>
<td>notes/10</td>
<td>PUT</td>
<td>replaces the entire identified resource with the request data</td>
</tr>
<tr>
<td>notes/10</td>
<td>PATCH</td>
<td>replaces a part of the identified resource with the request data</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>This is how we manage to roughly define what REST refers to as a <a href="https://en.wikipedia.org/wiki/Representational_state_transfer#Architectural_constraints">uniform interface</a>, which means a consistent way of defining interfaces that makes it possible for systems to co-operate.</p>
<p>This way of interpreting REST falls under the <a href="https://martinfowler.com/articles/richardsonMaturityModel.html">second level of RESTful maturity</a> in the Richardson Maturity Model. According to the definition provided by Roy Fielding, we have not actually defined a <a href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven">REST API</a>. In fact, a large majority of the world&#x27;s purported &quot;REST&quot; API&#x27;s do not meet Fielding&#x27;s original criteria outlined in his dissertation.</p>
<p>In some places (see e.g. <a href="http://shop.oreilly.com/product/9780596529260.do">Richardson, Ruby: RESTful Web Services</a>) you will see our model for a straightforward <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> API, being referred to as an example of <a href="https://en.wikipedia.org/wiki/Resource-oriented_architecture">resource oriented architecture</a> instead of REST. We will avoid getting stuck arguing semantics and instead return to working on our application.</p>
<h3>Fetching a single resource</h3>
<p>Let&#x27;s expand our application so that it offers a REST interface for operating on individual notes. First let&#x27;s create a <a href="http://expressjs.com/en/guide/routing.html">route</a> for fetching a single resource.</p>
<p>The unique address we will use for an individual note is of the form <i>notes/10</i>, where the number at the end refers to the note&#x27;s unique id number.</p>
<p>We can define <a href="http://expressjs.com/en/guide/routing.html">parameters</a> for routes in express by using the colon syntax:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> request<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
  <span class="token keyword">const</span> note <span class="token operator">=</span> notes<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>note <span class="token operator">=&gt;</span> note<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Now <code>app.get(&#x27;/notes/:id&#x27;, ...)</code> will handle all HTTP GET requests, that are of the form <i>note/SOMETING</i>, where <i>SOMETHING</i> is an arbitrary string.</p>
<p>The <i>id</i> parameter in the route of a request, can be accessed through the <a href="http://expressjs.com/en/api.html#req">request</a> object:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> id <span class="token operator">=</span> request<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id</code></pre></div>
<p>The now familiar <em>find</em> method of arrays is used to find the note with an id that matches the parameter. The note is then returned to the sender of the request.</p>
<p>When we test our application by going to <a href="http://localhost:3001/notes/1">http://localhost:3001/notes/1</a> in our browser, we notice that it does not appear to work, as the browser displays an empty page. This comes as no surprise to us as software developers, and it&#x27;s time to debug.</p>
<p>Adding <em>console.log</em> commands into our code is a time-proven trick:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> request<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
  <span class="token keyword">const</span> note <span class="token operator">=</span> notes<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>note <span class="token operator">=&gt;</span> note<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>
  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>When we visit <a href="http://localhost:3001/notes/1">http://localhost:3001/notes/1</a> again in the browser, the console which is the terminal in this case, will display the following:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/7333b6dcc5a6e252178ee0bc4ed16db6/14be6/8.png"/></picture>
<p>The id parameter from the route is passed to our application but the <em>find</em> method does not find a matching note.</p>
<p>To further our investigation, we also add a console log inside of the comparison function passed to the <em>find</em> method. In order to do this, we have to get rid of the compact arrow function syntax <em>note =&gt; note.id === id</em>, and use the syntax with an explicit return statement:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> request<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
  <span class="token keyword">const</span> note <span class="token operator">=</span> notes<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>note <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>note<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token keyword">typeof</span> note<span class="token punctuation">.</span>id<span class="token punctuation">,</span> id<span class="token punctuation">,</span> <span class="token keyword">typeof</span> id<span class="token punctuation">,</span> note<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
    <span class="token keyword">return</span> note<span class="token punctuation">.</span>id <span class="token operator">===</span> id
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>
  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>When we visit the URL again in the browser, each call to the comparison function prints a few different things to the console. The console output is the following:</p>
<pre>

1 &#x27;number&#x27; &#x27;1&#x27; &#x27;string&#x27; false
2 &#x27;number&#x27; &#x27;1&#x27; &#x27;string&#x27; false
3 &#x27;number&#x27; &#x27;1&#x27; &#x27;string&#x27; false
</pre>
<p>The cause of the bug becomes clear. The <em>id</em> variable contains a string &#x27;1&#x27;, whereas the id&#x27;s of notes are integers. In JavaScript, the &quot;triple equals&quot; comparison === considers all values of different types to not be equal by default, meaning that 1 is not &#x27;1&#x27;. </p>
<p>Let&#x27;s fix the issue by changing the id parameter from a string into a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  <span class="token keyword">const</span> note <span class="token operator">=</span> notes<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>note <span class="token operator">=&gt;</span> note<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Now fetching an individual resource works.</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/7b0c05e1975cf8d97efe74df0cebdc72/14be6/9e.png"/></picture>
<p>However, there&#x27;s another problem with our application.</p>
<p>If we search for a note with an id that does not exist, the server responds with:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/f89f77903a142e0e3137aeaa2f83e716/14be6/10.png"/></picture>
<p>The HTTP status code that is returned is 200, which means that the response succeeded. There is no data sent back with the response, since the value of the <i>content-length</i> header is 0, and the same can be verified from the browser. </p>
<p>The reason for this behavior is that the <em>note</em> variable is set to <em>undefined</em> if no matching note is found. The situation needs to be handled on the server in a better way. If no note is found, the server should respond with the the status code <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 not found</a> instead of 200.</p>
<p>Let&#x27;s make the following change to our code:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  <span class="token keyword">const</span> note <span class="token operator">=</span> notes<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>note <span class="token operator">=&gt;</span> note<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
  
<span class="gatsby-highlight-code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="gatsby-highlight-code-line">  <span class="token punctuation">}</span></span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Since no data is attached to the response, we use the <a href="http://expressjs.com/en/4x/api.html#res.status">status</a> method for setting the status, and the <a href="http://expressjs.com/en/4x/api.html#res.end">end</a> method for responding to the request without sending any data.</p>
<p>The if-condition leverages the fact that all JavaScript objects are <a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy">truthy</a>, meaning that they evaluate to true in a comparison operation. However, <em>undefined</em> is <a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy">falsy</a> meaning that it will evaluate to false.</p>
<p>Our application works and sends the error status code if no note is found. However, the application doesn&#x27;t return anything to show to the user, like web applications normally do when we visit a page that does not exist. We do not actually need to display anything in the browser because REST API&#x27;s are interfaces that are intended for programmatic use, and the error status code is all that is needed.</p>
<h3>Deleting resources</h3>
<p>Next let&#x27;s implement a route for deleting resources. Deletion happens by making an HTTP DELETE request to the url of the resource:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes/:id&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  notes <span class="token operator">=</span> notes<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>note <span class="token operator">=&gt;</span> note<span class="token punctuation">.</span>id <span class="token operator">!==</span> id<span class="token punctuation">)</span>

  response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">204</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>If deleting the resource is successful, meaning that the note exists and it is removed, we respond to the request with the status code <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.5">204 no content</a> and return no data with the response.</p>
<p>There&#x27;s no consensus on what status code should be returned to a DELETE request if the resource does not exist. Really, the only two options are 204 and 404. For the sake of simplicity our application will respond with 204 in both cases.</p>
<h3>Postman</h3>
<p>So how do we test the delete operation? HTTP GET requests are easy to make from the browser. We could write some JavaScript for testing deletion, but writing test code is not always the best solution in every situation.</p>
<p>Many tools exist for making the testing of backends easier. One of these is the command line program <a href="https://curl.haxx.se">curl</a> that was mentioned briefly in the previous part of the material.</p>
<p>Instead of curl, we will take a look at using <a href="https://www.getpostman.com/">Postman</a> for testing the application.</p>
<p>Let&#x27;s install Postman and try it out:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/34a67152a0c37efc38bffbc8e77ee2af/14be6/11.png"/></picture>
<p>Using Postman is quite easy in this situation. It&#x27;s enough to define the url and then select the correct request type.</p>
<p>The backend server appears to respond correctly. By making an HTTP GET request to <a href="http://localhost:3001/notes">http://localhost:3001/notes</a> we see that the note with the id 2 is no longer in the list, which indicates that the deletion was successful. </p>
<p>Because the notes in the application are only saved to memory, the list of notes will return to its original state when we restsart the application.</p>
<h3>The Visual Studio Code REST client</h3>
<p>If you use Visual Studio Code, you can use the VS Code <a href="https://marketplace.visualstudio.com/items?itemName=humao.rest-client">REST client</a> plugin instead of Postman.</p>
<p>Once the plugin is installed, using it is very simple. We make a directory at the root of application named <i>requests</i>. We save all the REST client requests in the directory as files that end with the <i>.rest</i> extension.</p>
<p>Let&#x27;s create a new <i>get_all_notes.rest</i> file and for defining the request that fetches all notes.</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/62788441aaed932ecb1f97f1aa75c08f/14be6/12.png"/></picture>
<p>By clicking the <i>Send Request</i> text, the REST client will execute the HTTP request and response from the server is opened in the editor.</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/92be7805a681bbb80cfc4f4c8ec36cfc/14be6/13e.png"/></picture>
<h3>Receiving data</h3>
<p>Next, let&#x27;s make it possible to add new notes to the server. Adding a note happens by making an HTTP POST request to the address <a href="http://localhost:3001/notes">http://localhost:3001/notes</a>, and by sending all the information for the new note in the request <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html#sec7">body</a> in the JSON format.</p>
<p>In order to access the data easily, we need the help of the <a href="https://github.com/expressjs/body-parser">body-parser</a> library.</p>
<p>Let&#x27;s import body-parser and implement an initial handler for dealing with the HTTP POST requests:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;express&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;body-parser&#x27;</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//...</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> note <span class="token operator">=</span> request<span class="token punctuation">.</span>body
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>

  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>The event handler function can access the data from the <i>body</i> property of the <em>request</em> object.</p>
<p>Without a body-parser, the <i>body</i> property would be undefined. The body-parser functions so that it takes the JSON data of a request, transforms it into a JavaScript object and then attaches it to the <i>body</i> property of the <em>request</em> object before the route handler is called.</p>
<p>For the time being, the application does not do anything with the received data besides printing it to the console and sending it back in the response.</p>
<p>Before we implement the rest of the application logic, let&#x27;s verify with Postman that the data is actually received by the server. In addition to defining the URL and request type in Postman, we also have to define the data sent in the <i>body</i>:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/ad715951603ccdb9b7c18d96d40ccdea/14be6/14e.png"/></picture>
<p>The application prints the data that we sent in the request to the console:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/0b3e370c5c28f0e566406c027e16d985/14be6/15e.png"/></picture>
<p><strong>NB</strong> <i>Keep the terminal running the application visible at all times</i> when you are working on the backend. Thanks to Nodemon any changes we make to the code will restart the application. If you pay attention to the console, you will immediately be able to pick up on errors that occur in the application:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/c63c7735842ffb3d0c0315075daa8de6/14be6/16.png"/></picture>
<p>Similarly, it is useful to check the console for making sure that the backend behaves like we expect it in different situations, like when we send data with an HTTP POST request. Naturally, it&#x27;s a good idea to add lots of <em>console.log</em> commands to the code when the application is still being developed.</p>
<p>A potential cause for issues is an incorrectly set <i>Content-Type</i> header in requests. This can happen with Postman if the type of body is not defined correctly:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/22dfd5176ee1b993ad6ba8198610b80b/14be6/17e.png"/></picture>
<p>The <i>Contept-Type</i> header is set to <i>text/plain</i>:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/baa0b1dba5d472001587ef18214cfd26/14be6/18e.png"/></picture>
<p>The server appears to only receive an empty object:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/4cee49b52a0448271483fd6132526132/14be6/19.png"/></picture>
<p>The server will not be able to parse the data correctly without the correct value in the header. It won&#x27;t even try to guess the format of the data, since there&#x27;s a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types">massive amount</a> of potential <i>Content-Types</i>.</p>
<p>If you are using VS Code, then you should install the REST client form the previous chapter <i>now, if you didn&#x27;t already</i>. The POST request can be sent with the REST client like this:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/e7f5a34e5254e9f2e31c891d4626a281/14be6/20e.png"/></picture>
<p>We created a new <i>create_note.rest</i> file for the request. The request is formatted according to the <a href="https://github.com/Huachao/vscode-restclient/blob/master/README.md#usage">instructions in the documentation</a>.</p>
<p>One benefit that the REST client has over Postman is that the requests are handily available at the root of the project repository, and they can be distributed to everyone in the development team. Postman also allows users to save requests, but the situation can get quite chaotic especially when you&#x27;re working on multiple unrelated projects.</p>
<blockquote>
<p><strong>Important sidenode</strong></p>
</blockquote>
<blockquote>
<p>Sometimes when you&#x27;re debugging, you may want to find out what headers have been set to the HTTP request. One way of accomplishing this is through the <a href="http://expressjs.com/en/4x/api.html#req.get">get</a> method of the <em>request</em> object, that can be used for getting the value of a single header. The <em>request</em> object also has the <i>headers</i> property, that contains all of the headers of the application.</p>
</blockquote>
<blockquote>
<p>Problems can occur with the VS REST client if you accidentally add an empty line between the top row and the row specifying the HTTP headers. In this situation, the REST client interprets this to mean that all headers are left empty, which means that the backend server has no way of knowing that the data it has received is in the JSON format.</p>
</blockquote>
<p>You will be able to spot this missing <i>Content-Type</i> header if at some point in your code you print all of the request headers with the <em>console.log(request.headers)</em> command.</p>
<p>Let&#x27;s return to the application. Once we know that the application receives data correctly, it&#x27;s time to finalize the handling of the request:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> maxId <span class="token operator">=</span> notes<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>
    <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>notes<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> n<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> 
    <span class="token punctuation">:</span> <span class="token number">0</span>

  <span class="token keyword">const</span> note <span class="token operator">=</span> request<span class="token punctuation">.</span>body
  note<span class="token punctuation">.</span>id <span class="token operator">=</span> maxId <span class="token operator">+</span> <span class="token number">1</span>

  notes <span class="token operator">=</span> notes<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>

  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>We need a unique id for the note. First, we find out the largest id number in the current list and assign it to the <em>maxId</em> variable. The id of the new note is then defined as <em>maxId + 1</em>. This method is in fact not recommended, but we will live with it for now as we will replace it soon enough.</p>
<p>The current version still has the problem that the HTTP POST request can be used to add objects with arbitrary properties. Let&#x27;s improve the application by defining that the <i>concept</i> property may not be empty. The <i>important</i> and <i>date</i> properties will be given default values. All other properties are discarded:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">generateId</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> maxId <span class="token operator">=</span> notes<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>
    <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>notes<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> n<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token keyword">return</span> maxId <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#x27;/notes&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> body <span class="token operator">=</span> request<span class="token punctuation">.</span>body

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>body<span class="token punctuation">.</span>content<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
      error<span class="token punctuation">:</span> <span class="token string">&#x27;content missing&#x27;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> note <span class="token operator">=</span> <span class="token punctuation">{</span>
    content<span class="token punctuation">:</span> body<span class="token punctuation">.</span>content<span class="token punctuation">,</span>
    important<span class="token punctuation">:</span> body<span class="token punctuation">.</span>important <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    date<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    id<span class="token punctuation">:</span> <span class="token function">generateId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  notes <span class="token operator">=</span> notes<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>

  response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>The logic for generating the new id number for notes has been extracted into a separate <em>generateId</em> function.</p>
<p>If the received data is missing a value for the <i>content</i> property, the server will respond to the request with the status code <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 bad request</a>:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>body<span class="token punctuation">.</span>content<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    error<span class="token punctuation">:</span> <span class="token string">&#x27;content missing&#x27;</span> 
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Notice that calling return is crucial, because other the code will execute to the very end and the malformed note gets saved to the application.</p>
<p>If the content property has a value, the note will be based on the received data. As mentioned previously, it is better to generate timestamps on the server than in the browser, since we can&#x27;t trust that host machine running the browser has its clock set correctly. The generation of the <i>date</i> property is now done by the server.</p>
<p>If the <i>important</i> property is missing, we will default the value to <i>false</i>. The default value is currently generated in a rather odd-looking way:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">important<span class="token punctuation">:</span> body<span class="token punctuation">.</span>important <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">,</span></code></pre></div>
<p>If the data saved in the <em>body</em> variable has the <i>important</i> property, the expression will evaluate to its value. If the property does not exist, then the expression will evaluate to false which is defined on the right-hand side of the the vertical lines.</p>
<blockquote>
<p>To be exact, when the <i>important</i> property is <i>false</i>, then the <em>body.important || false</em> expression will in fact return the <i>false</i> from the right-hand side...</p>
</blockquote>
<p>You can find the code for our current application in its entirety in the <i>part3-1</i> branch of <a href="https://github.com/fullstackopen-2019/part3-notes-backend/tree/part3-1">this github repository</a>.</p>
<p>Notice that the master branch of the repository contains the code from a later version of the application. The code for the current state of the application is specifically in branch <a href="https://github.com/fullstackopen-2019/part3-notes-backend/tree/part3-1">part3-1</a>.</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/9b6ccc6beb80d632e0c9c12d2436c9b4/14be6/21.png"/></picture>
<p>If you clone the project, run the <em>npm install</em> command before starting the application with <em>npm start</em> or <em>npm run watch</em>.</p>
<p>One more thing before we move onto the exercises. The function for generating IDs looks currently like this:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">generateId</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> maxId <span class="token operator">=</span> notes<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>
    <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>notes<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> n<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token keyword">return</span> maxId <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The function body contains a row that looks a bit intriguing:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>notes<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> n<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>What exactly is happening in that line of code? <em>notes.map(n =&gt; n.id)</em> creates a new array that contains all the id&#x27;s of the notes. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/max">Math.max</a> returns the maximum value of the numbers that are passed to it. However, <em>notes.map(n =&gt; n.id)</em> is an <i>array</i> so it can&#x27;t directly be given as a parameter to <em>Math.max</em>. The array can be transformed into individual numbers by using the &quot;three dot&quot; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">spread</a> syntax <em>... taulukko</em>.</p>
</div></div>
<div class="banner spacing spacing--after tasks" style="background-color:#EEAC5D"><div class="container"><div class="course-content col-6 push-right-3" style="border-color:#EEAC5D;background-color:transparent">
<h3>Exercises</h3>
<p><strong>NB:</strong> It&#x27;s recommended to do all of the exercises from this part into a new dedicated git repository, and place your source code right at the root of the repository. Otherwise you will run into problems in exercise 3.10.</p>
<p><strong>NB:</strong> Because this is not a frontend project and we are not working with React, the application <strong>is not created</strong> with create-react-app. You initialize this project with the <em>npm init</em> command that was demonstrated earlier in this part of the material.</p>
<p><strong>Strong recommendation:</strong> When you are working on backend code, always keep an eye on what&#x27;s going on in the terminal that is running your application.</p>
<h4>3.1: Phonebook backend step1</h4>
<p>Implement a Node application that returns a hardcoded list of phonebook entries from the address <a href="http://localhost:3001/api/persons">http://localhost:3001/api/persons</a>:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/26ba32b70d616dfcb3b205941d6f8300/14be6/22e.png"/></picture>
<p>Notice that the forward slash in the route <i>api/persons</i> is not a special character, and is just like any other character in the string. </p>
<p>The application must be started with the command <em>npm start</em>.</p>
<p>The application must also offer an <em>npm run</em> command that will run the application and restart the server whenever changes are made and saved to a file in the source code.</p>
<h4>3.2: Phonebook backend step2</h4>
<p>Implement a page at the address <a href="http://localhost:3001/info">http://localhost:3001/info</a> that looks roughly like this:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/a563a2056c3207a42cfe2d0a7d081c5a/14be6/23e.png"/></picture>
<p>The page has to show the time that the request was received and how many entries are in the phonebook at the time of processing the request.</p>
<h4>3.3: Phonebook backend step3</h4>
<p>Implement the functionality for displaying the information for a single phonebook entry. The url for getting the data for a person with the id 5 should be <a href="http://localhost:3001/api/persons/5">http://localhost:3001/api/persons/5</a></p>
<p>If an entry for the given id is not found, the server has to respond with the appropriate status code.</p>
<h4>3.4: Phonebook backend step4</h4>
<p>Implement functionality that makes it possible to delete a single phonebook entry by making an HTTP DELETE request to the unique URL of that phonebook entry.</p>
<p>Test that your functionality works with either Postman or the Visual Studio Code REST client.</p>
<h4>3.5: Phonebook backend step5</h4>
<p>Expand the backend so that new phonebook entries can be added by making HTTP POST requests to the address <a href="http://localhost:3001/api/persons">http://localhost:3001/api/persons</a>.</p>
<p>Generate a new id for the phonebook entry with the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random">Math.random</a> function. Use a big enough range for your random values so that the likelihood of creating duplicate id&#x27;s is small.</p>
<h4>3.6: Phonebook backend step6</h4>
<p>Implement error handling for creating new entries. The request is not allowed to succeed, if:</p>
<ul>
<li>The name or number is missing </li>
<li>The name already exists in the phonebook</li>
</ul>
<p>Respond to requests like these with the appropriate status code, and also send back information that explains the reason for the error, e.g.:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span> error<span class="token punctuation">:</span> <span class="token string">&#x27;name must be unique&#x27;</span> <span class="token punctuation">}</span></code></pre></div>
</div></div></div>
<div class="container"><div class="course-content col-6 push-right-3">
<h3>About HTTP request types</h3>
<p><a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">HTTP-standardi</a> puhuu pyyntötyyppien yhteydessä kahdesta ominaisuudesta, <strong>safe</strong> ja <strong>idempotent</strong>.
<a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">The HTTP standard</a> talks about two qualities related to request types, <strong>safety</strong> and <strong>idempotence</strong>.</p>
<p>The HTTP GET request should be <i>safe</i>:</p>
<blockquote>
<p><i>In particular, the convention has been established that the GET and HEAD methods SHOULD NOT have the significance of taking an action other than retrieval. These methods ought to be considered &quot;safe&quot;.</i></p>
</blockquote>
<p>Safety means that the executing request must not cause any <i>side effects</i> in the server. By side-effects we mean that the state of the database must not change as a result of the request, and the response must only return data that already exists on the server.</p>
<p>Nothing can ever guarantee that a GET request is actually <i>safe</i>, this is in fact just a recommendation that is defined in the HTTP standard. By adhering to RESTful principles in our API, GET requests are in fact always used in a way that they are <i>safe</i>.</p>
<p>The HTTP standard also defines the request type <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.4">HEAD</a>, that ought to be safe. In practice HEAD should work exactly like GET but it does not return anything but the status code and response headers. The response body will not be returned when you make a HEAD request.</p>
<p>All HTTP requests except POST should be <i>idempotent</i>:</p>
<blockquote>
<p><i>Methods can also have the property of &quot;idempotence&quot; in that (aside from error or expiration issues) the side-effects of N &gt; 0 identical requests is the same as for a single request. The methods GET, HEAD, PUT and DELETE share this property</i></p>
</blockquote>
<p>This means that if a request has side-effects, then the result should be same regardless of how many times the request is sent.</p>
<p>If we make an HTTP PUT request to the url <i>/notes/10</i> and with the request we send the data <em>{ content: &quot;no side effects!&quot;, important: true }</em>, the result is the same regardless of many times the request is sent.</p>
<p>Like <i>safety</i> for the GET request, also <i>idempotence</i> is simply a recommendation in the HTTP standard and not something that can be guaranteed simply based on the request type. However, when our API adheres to RESTful principles, then GET, HEAD, PUT, and DELETE requests are used in such a way that they are idempotent.</p>
<p>POST is the only HTTP request type that is neither <i>safe</i> nor <i>idempotent</i>. If we make an HTTP POST request five time into the <i>/notes</i> url, so that each time we send the </p>
<h3>Middleware</h3>
<p>The <a href="https://github.com/expressjs/body-parser">body-parser</a> we took into use earlier is a so-called <a href="http://expressjs.com/en/guide/using-middleware.html">middleware</a>.</p>
<p>Middleware are functions that can be used for handling <em>request</em> and <em>response</em> objects.</p>
<p>The body-parser we used earlier takes the raw data from the requests that&#x27;s stored in the <em>request</em> object, parses it into a JavaScript object and assigns it to the <em>request</em> object as a new property <i>body</i>.</p>
<p>In practice, you can use several middleware at the same time. When you have more than one, they&#x27;re executed one by one in the order that they were taken into use in express.</p>
<p>Let&#x27;s implement our own middleware that prints information about every request that is sent to the server.</p>
<p>Middleware is a function that receives three parameters:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">requestLogger</span> <span class="token operator">=</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Method:&#x27;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>method<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Path:  &#x27;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Body:  &#x27;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;---&#x27;</span><span class="token punctuation">)</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>At the end of the function body the <em>next</em> function that was passed as a parameter is called. The <em>next</em> function yields control to the next middleware.</p>
<p>Middleware are taken into use like this:</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>requestLogger<span class="token punctuation">)</span></code></pre></div>
<p>Middleware functions are called in the order that they&#x27;re taken into use with the express server object&#x27;s <em>use</em> method. Notice that <em>bodyParser</em> is taken into use before the <em>requestLogger</em> middleware, because otherwise <i>request.body</i> will not be initialized when the logger is executed!</p>
<p>Middleware functions have to be taken into use before routes if we want them to be executed before the route event handlers are called. There are also situations where we want to define middleware functions after routes. In practice, this means that we are defining middleware functions that are only called if no route handles the HTTP request.</p>
<p>Let&#x27;s add the following middleware after our routes, that is used for catching requests made to non-existent routes. For these requests, the middleware will return an error message in the JSON format.</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">unknownEndpoint</span> <span class="token operator">=</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token punctuation">:</span> <span class="token string">&#x27;unknown endpoint&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>unknownEndpoint<span class="token punctuation">)</span></code></pre></div>
<p>You can find the code for our current application in its entirety in the <i>part3-2</i> branch of <a href="https://github.com/fullstackopen-2019/part3-notes-backend/tree/part3-2">this github repository</a>.</p>
</div></div>
<div class="banner spacing spacing--after tasks" style="background-color:#EEAC5D"><div class="container"><div class="course-content col-6 push-right-3" style="border-color:#EEAC5D;background-color:transparent">
<h3>Exercises</h3>
<h4>3.7: Phonebook backend step7</h4>
<p>Add the <a href="https://github.com/expressjs/morgan">morgan</a> middleware to your application for logging. Configure it to log messages to your console based on the <i>tiny</i> configuration.</p>
<p>The documentation for Morgan is not the best, and you may have to some time figuring out how to configure it correctly. However, most documentation in the world falls under the same category, so it&#x27;s good to learn to decipher and interpret cryptic documentation in any case.</p>
<p>Morgan is installed just like all other libraries with the <em>npm install</em> command. Taking morgan into use happens the same as configuring any other middle by using the <em>app.use</em> command.</p>
<h4>3.8*: Phonebook backend step8</h4>
<p>Configure morgan so that it also shows the data sent in HTTP POST requests:</p>
<picture><img style="border-color:#EEAC5D" alt="fullstack content" src="/static/4ed4b48465d48df517158501c0be187e/14be6/24.png"/></picture>
<p>This exercise can be quite challenging, even though the solution does not require a lot of code.</p>
<p>This exercise can be completed in a few different ways. One of the possible solutions utilizes these two techniques:</p>
<ul>
<li><a href="https://github.com/expressjs/morgan#creating-new-tokens">creating new tokens</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">JSON.stringify</a></li>
</ul>
</div></div></div></div><div class="container spacing element--flex element--centered"><a class="edit-link" target="__BLANK" href="https://github.com/fullstackopen-2019/fullstackopen-2019.github.io/edit/source/src/content/3/en/part3a.md"><span>Propose changes to material</span></a></div><div class="container spacing spacing--after-large prev-next__container "><a class="col-4--mobile push-right-1 prev" href="/en/part2"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->2</p><b>Previous part</b></div></a><div class="col-1--mobile separator"></div><a class="col-4--mobile push-left-1 next" href="/en/part3/deploying_app_to_internet"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->3b</p><b>Next part</b></div></a></div></div><div class="container spacing--after-small spacing--mobile element--flex" id="footer"><div class="col-5 push-right-3 col-10--mobile order-2--mobile order-2--tablet footer__links element--flex element--space-between"><a href="https://www.helsinki.fi/" class="col-5 col-4--mobile spacing--mobile"><div class="image col-6 image--contain"><div class="image__container"><img style="background-color:;background-opacity:0.5" class="image__content" src="/static/uoh_centre-3689cf9983a2ebc8089c8f078a9c4769.svg" alt="Helsingin yliopiston logo"/></div></div></a><a href="https://www.houston-inc.com/" class="col-5 col-4--mobile spacing--mobile"><div class="image col-6 image--contain"><div class="image__container"><img style="background-color:;background-opacity:0.5" class="image__content" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjQ3cHgiIGhlaWdodD0iODJweCIgdmlld0JveD0iMCAwIDI0NyA4MiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPgogICAgPHRpdGxlPmxvZ28vaG91c3RvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxwb2x5Z29uIGlkPSJwYXRoLTEiIHBvaW50cz0iMCAwLjAyNjcxOTI2NzMgMTM4LjIwODE2NyAwLjAyNjcxOTI2NzMgMTM4LjIwODE2NyAzNi40NjU0MzgxIDAgMzYuNDY1NDM4MSI+PC9wb2x5Z29uPgogICAgPC9kZWZzPgogICAgPGcgaWQ9ImxvZ28vaG91c3RvbiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImhvdXN0b25fc2ltcGxlLmVwcy1jb3B5LTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU0LjU4MTg5MywgMjMuMjYzMDQwKSI+CiAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgPGcgaWQ9IkNsaXAtMiI+PC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNODIuODA1MTI5OCwxMy41MDY2NjAzIEw4Mi44MDUxMjk4LDI1LjUzNjU1MDkgTDg1Ljk5MzYyOSwyNS41MzY1NTA5IEw4NS45OTM2MjksMTMuNTA2NjYwMyBMOTAuNDA2NTQ5MywxMy41MDY2NjAzIEw5MC40MDY1NDkzLDEwLjQ0NTY3ODQgTDc4LjM3NTEwMzYsMTAuNDQ1Njc4NCBMNzguMzc1MTAzNiwxMy41MDY2NjAzIEw4Mi44MDUxMjk4LDEzLjUwNjY2MDMgWiBNOTYuNDkxMDQ5NSwxNy45NjM2ODg1IEM5Ni40OTEwNDk1LDIwLjU1OTU1NzIgOTguMzE3ODU1NywyMi43MDc5ODQyIDEwMC44ODYxNTcsMjIuNzA3OTg0MiBDMTAzLjQ1NDg4MiwyMi43MDc5ODQyIDEwNS4yNDcxOTQsMjAuNTk1NDY1NyAxMDUuMjQ3MTk0LDE4LjAxNzk3NTMgTDEwNS4yNDcxOTQsMTguMDAwMDIxMSBDMTA1LjI0NzE5NCwxNS40MDQyOTM3IDEwMy40MjA1MjksMTMuMjU1ODY2NyAxMDAuODUyMjI4LDEzLjI1NTg2NjcgQzk4LjI4MzUwMjMsMTMuMjU1ODY2NyA5Ni40OTEwNDk1LDE1LjM2ODM4NTMgOTYuNDkxMDQ5NSwxNy45NDU3MzQzIEw5Ni40OTEwNDk1LDE3Ljk2MzY4ODUgWiBNOTMuMTQ3MDQxMywxOC4wMTc5NzUzIEw5My4xNDcwNDEzLDE3Ljk4MjA2NjkgQzkzLjE0NzA0MTMsMTMuNjg1NDk1NiA5Ni40MDQ4MTI3LDEwLjE3NjkzMDYgMTAwLjg4NjE1NywxMC4xNzY5MzA2IEMxMDUuMzY3OTI1LDEwLjE3NjkzMDYgMTA4LjU5MTM0MywxMy42NDk3Mjg1IDEwOC41OTEzNDMsMTcuOTQ1NzM0MyBMMTA4LjU5MTM0MywxNy45NjM2ODg1IEMxMDguNTkxMzQzLDIyLjI2MDI1OTggMTA1LjMzMzU3MiwyNS43Njg4MjQ3IDEwMC44NTIyMjgsMjUuNzY4ODI0NyBDOTYuMzcwMzE4LDI1Ljc2ODgyNDcgOTMuMTQ3MDQxMywyMi4zMTQxMjI0IDkzLjE0NzA0MTMsMTguMDE3OTc1MyBMOTMuMTQ3MDQxMywxOC4wMTc5NzUzIFogTTcwLjQxMTkxMzcsMjIuNzk3MDQ4NSBDNjguNzU2ODc0MiwyMi43OTcwNDg1IDY3LjM3ODIxNjYsMjIuMDgxMjgzMSA2Ni4wNjg0MDcsMjAuOTcxNzk3NCBMNjQuMTcyMTg3MiwyMy4zMTY0NDg0IEM2NS45MTMxODA4LDI0LjkyNzk0NTQgNjguMTM2Njc2MiwyNS43MzMzNDA0IDcwLjM0MzA2NTYsMjUuNzMzMzQwNCBDNzMuNDgwMTA1NSwyNS43MzMzNDA0IDc1LjY2OTI0NzYsMjQuMDUwMTY4IDc1LjY2OTI0NzYsMjEuMDYxMDAzIEw3NS42NjkyNDc2LDIxLjAyNTA5NDUgQzc1LjcyMTEzMSwxOC4zOTM0NTg4IDc0LjA0ODU2MTUsMTcuMzAxNzg1OCA3MS4xMDExMDExLDE2LjQ5NTgyNTMgQzY4LjU4NDY4MzQsMTUuODMzOTIyNiA2Ny45NjM5MTk5LDE1LjUxMTMxMjIgNjcuOTYzOTE5OSwxNC41MDg5ODYyIEw2Ny45NjM5MTk5LDE0LjQ3MzA3NzggQzY3Ljk2MzkxOTksMTMuNzM4OTM0MSA2OC42MDIyMTM1LDEzLjE2NjY2MTEgNjkuODI1NjQ0OSwxMy4xNjY2NjExIEM3MS4wNDk2NDE4LDEzLjE2NjY2MTEgNzIuMzA3OTkyMSwxMy43MjA5Nzk5IDczLjYwMDgzNywxNC42NTIwNTQ1IEw3NS4yNTU1OTM4LDEyLjE0NTk1NjkgQzczLjc4OTk5MjUsMTAuOTEwNjUwMiA3MS45ODA3MTY0LDEwLjIzMDM2OTIgNjkuODYwNTYzNywxMC4yMzAzNjkyIEM2Ni44OTU3MTQ3LDEwLjIzMDM2OTIgNjQuNzc1NTYyLDEyLjAzODY1NTcgNjQuNzc1NTYyLDE0Ljc3NzU5MjYgTDY0Ljc3NTU2MiwxNC44MTMwNzY5IEM2NC43NzU1NjIsMTcuODAyNjY2MSA2Ni42NzEwNzQ5LDE4LjY0NDUzNSA2OS41ODQxODE5LDE5LjQzMjExNzMgQzcyLjAxNDY0NTYsMjAuMDc2NjMxMiA3Mi41MTQ2Nzc2LDIwLjUwNjI2MDEgNzIuNTE0Njc3NiwyMS4zNDc3MDQ5IEw3Mi41MTQ2Nzc2LDIxLjM4MzA0NzkgQzcyLjUxNDY3NzYsMjIuMjYwMjU5OCA3MS43MjIyODg4LDIyLjc5NzA0ODUgNzAuNDExOTEzNywyMi43OTcwNDg1IEw3MC40MTE5MTM3LDIyLjc5NzA0ODUgWiBNMzEuMzM2NDY5NywxNy45NjM2ODg1IEMzMS4zMzY0Njk3LDIwLjU1OTU1NzIgMzMuMTYzNywyMi43MDc5ODQyIDM1LjczMTg1OTksMjIuNzA3OTg0MiBDMzguMzAwMTYxMSwyMi43MDc5ODQyIDQwLjA5MjQ3MjYsMjAuNTk1NDY1NyA0MC4wOTI0NzI2LDE4LjAxNzk3NTMgTDQwLjA5MjQ3MjYsMTguMDAwMDIxMSBDNDAuMDkyNDcyNiwxNS40MDQyOTM3IDM4LjI2NTI0MjMsMTMuMjU1ODY2NyAzNS42OTY5NDEsMTMuMjU1ODY2NyBDMzMuMTI5MjA1MywxMy4yNTU4NjY3IDMxLjMzNjQ2OTcsMTUuMzY4Mzg1MyAzMS4zMzY0Njk3LDE3Ljk0NTczNDMgTDMxLjMzNjQ2OTcsMTcuOTYzNjg4NSBaIE0yOC4wMDk3MDg5LDE4LjAxNzk3NTMgTDI4LjAwOTcwODksMTcuOTgyMDY2OSBDMjguMDA5NzA4OSwxMy42ODU0OTU2IDMxLjI2NzQ4MDMsMTAuMTc2OTMwNiAzNS43NDg4MjQ1LDEwLjE3NjkzMDYgQzQwLjIzMDczNDIsMTAuMTc2OTMwNiA0My40MzYxOTgsMTMuNjQ5NzI4NSA0My40NTQwMTA5LDE3Ljk0NTczNDMgTDQzLjQ1NDAxMDksMTcuOTYzNjg4NSBDNDMuNDU0MDEwOSwyMi4yNjAyNTk4IDQwLjE5NjIzOTUsMjUuNzY4ODI0NyAzNS43MTQ4OTUzLDI1Ljc2ODgyNDcgQzMxLjIzMjU2MTUsMjUuNzY4ODI0NyAyOC4wMDk3MDg5LDIyLjMxNDEyMjQgMjguMDA5NzA4OSwxOC4wMTc5NzUzIEwyOC4wMDk3MDg5LDE4LjAxNzk3NTMgWiBNNTMuODMwNDE3MSwyNS43MzMzNDA0IEM1Ny43NDI4ODEyLDI1LjczMzM0MDQgNjAuMjA3ODM5NywyMy40OTU4NDkyIDYwLjIwNzgzOTcsMTguOTMwNjcxNSBMNjAuMjA3ODM5NywxMC40MjcxNTg3IEw1Ny4wMDE4MTAzLDEwLjQyNzE1ODcgTDU3LjAwMTgxMDMsMTkuMDczNzM5OCBDNTcuMDAxODEwMywyMS40NzI2Nzc2IDU1LjgxMjMwODEsMjIuNjkwMDMgNTMuODY0NzcwNCwyMi42OTAwMyBDNTEuOTE3Mzc0MSwyMi42OTAwMyA1MC43Mjc3MzA1LDIxLjQxODk1NjMgNTAuNzI3NzMwNSwxOC45NjY1OCBMNTAuNzI3NzMwNSwxMC40MjcxNTg3IEw0Ny41Mzg2NjU4LDEwLjQyNzE1ODcgTDQ3LjUzODY2NTgsMTkuMDM3ODMxMyBDNDcuNTM4NjY1OCwyMy40Nzc4OTUgNDkuOTE3OTUzLDI1LjczMzM0MDQgNTMuODMwNDE3MSwyNS43MzMzNDA0IEw1My44MzA0MTcxLDI1LjczMzM0MDQgWiBNMy4xNTQ1NywzMy4xOTgxOTQ4IEwxMzUuMDM2NjMyLDMzLjE5ODE5NDggTDEzNS4wMzY2MzIsMy4zMDI0NDQ4OCBMMy4xNTQ1NywzLjMwMjQ0NDg4IEwzLjE1NDU3LDMzLjE5ODE5NDggWiBNMCwzNi40NzM5MjA0IEwxMzguMjA4MTY3LDM2LjQ3MzkyMDQgTDEzOC4yMDgxNjcsMC4wMjY3MTkyNjczIEwwLDAuMDI2NzE5MjY3MyBMMCwzNi40NzM5MjA0IFogTTE0LjgyMzExNDMsMTkuNDg1NDE0NCBMMjAuNzE4NjAwNSwxOS40ODU0MTQ0IEwyMC43MTg2MDA1LDI1LjUzNjU1MDkgTDIzLjkwNzY2NTIsMjUuNTM2NTUwOSBMMjMuOTA3NjY1MiwxMC40NDU2Nzg0IEwyMC43MTg2MDA1LDEwLjQ0NTY3ODQgTDIwLjcxODYwMDUsMTYuNDA2MDU0MiBMMTQuODIzMTE0MywxNi40MDYwNTQyIEwxNC44MjMxMTQzLDEwLjQ0NTY3ODQgTDExLjYzNDc1NjUsMTAuNDQ1Njc4NCBMMTEuNjM0NzU2NSwyNS41MzY1NTA5IEwxNC44MjMxMTQzLDI1LjUzNjU1MDkgTDE0LjgyMzExNDMsMTkuNDg1NDE0NCBaIE0xMTUuODY0OTIyLDE1Ljk0MTUwNjUgTDEyMi44OTc2MDIsMjUuNTM2NTUwOSBMMTI1LjYyMDk4OCwyNS41MzY1NTA5IEwxMjUuNjIwOTg4LDEwLjQ0NTY3ODQgTDEyMi40NjY0MTgsMTAuNDQ1Njc4NCBMMTIyLjQ2NjQxOCwxOS43MzYyMDggTDExNS42NTgzNzcsMTAuNDQ1Njc4NCBMMTEyLjcxMDkxNywxMC40NDU2Nzg0IEwxMTIuNzEwOTE3LDI1LjUzNjU1MDkgTDExNS44NjQ5MjIsMjUuNTM2NTUwOSBMMTE1Ljg2NDkyMiwxNS45NDE1MDY1IEwxMTUuODY0OTIyLDE1Ljk0MTUwNjUgWiIgaWQ9IkZpbGwtMSIgZmlsbD0iIzAwMDEwNSIgbWFzaz0idXJsKCNtYXNrLTIpIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=" alt="Houston inc. logo"/></div></div></a></div><div class="col-5 col-5--mobile order-1--mobile order-1--tablet footer__navigation element--flex"><div class="footer__navigation-link-container"><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en/about">About course</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en#course-contents">Course contents</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en/faq">FAQ</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en/companies">Partners</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/en/challenge">Challenge</a></div></div></div></div></div></div><script>
  
  
  if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-135975842-1', 'fullstackopen.com', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-content-template-js","jsonName":"en-part-3-node-js-and-express-6c9","path":"/en/part3/node_js_and_express"};window.dataPath="312/path---en-part-3-node-js-and-express-6-c-9-ea0-ElOOxq7dqns9fY0URv5vStfrWBQ";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app.f588656cc80a065e5f1e.css","/app-f28095bb55c588d6d78b.js"],"component---src-templates-part-intro-template-js":["/component---src-templates-part-intro-template-js.8d664019b0db737497c8.css","/component---src-templates-part-intro-template-js-55c82bf3be5cf903b840.js"],"component---src-templates-content-template-js":["/component---src-templates-content-template-js.7b464bfa27ef1bc3ece6.css","/component---src-templates-content-template-js-703c28373805799b1d27.js"],"component---src-pages-404-js":["/component---src-pages-404-js.6480c5a0a269a417cf42.css","/component---src-pages-404-js-a8104d89fd0deb84836c.js"],"component---src-pages-about-en-js":["/component---src-pages-about-en-js.8344350173b5e21af9e0.css","/component---src-pages-about-en-js-1d1ffae7955981e96755.js"],"component---src-pages-about-js":["/component---src-pages-about-js.8344350173b5e21af9e0.css","/component---src-pages-about-js-c262c2c888449d9e3b9d.js"],"component---src-pages-challenge-en-js":["/component---src-pages-challenge-en-js.51de4e67d9e16e51cae8.css","/component---src-pages-challenge-en-js-07b9eb9fae6f59dbe439.js"],"component---src-pages-challenge-js":["/component---src-pages-challenge-js.51de4e67d9e16e51cae8.css","/component---src-pages-challenge-js-a86ff3e742023caed5f5.js"],"component---src-pages-companies-en-js":["/component---src-pages-companies-en-js.9a96b07212cab2723d68.css","/component---src-pages-companies-en-js-7ef9f4617c94b6e17df2.js"],"component---src-pages-companies-js":["/component---src-pages-companies-js.9a96b07212cab2723d68.css","/component---src-pages-companies-js-e1d29b17d15397801126.js"],"component---src-pages-faq-en-js":["/component---src-pages-faq-en-js-7134e68e1b704e1c0d17.js"],"component---src-pages-faq-js":["/component---src-pages-faq-js-eaed022f16c194665bd5.js"],"component---src-pages-index-en-js":["/component---src-pages-index-en-js.1ce1f0da4b9f50818038.css","/component---src-pages-index-en-js-bd71b2af081b23e061d3.js"],"component---src-pages-index-js":["/component---src-pages-index-js.1ce1f0da4b9f50818038.css","/component---src-pages-index-js-99bbc8a8166054d99c70.js"]};/*]]>*/</script><script src="/webpack-runtime-4782032e48ec01186bc6.js" async=""></script><script src="/1-c525673888c6aa1644a4.js" async=""></script><script src="/3-69fb52d5a763c46eb74c.js" async=""></script><script src="/22-f0e9ecc8228f455a4507.js" async=""></script><script src="/0-3f675934e399a3885569.js" async=""></script><script src="/component---src-templates-content-template-js-703c28373805799b1d27.js" async=""></script><script src="/app-f28095bb55c588d6d78b.js" async=""></script></body></html>